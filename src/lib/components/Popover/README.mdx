---
name: Popover
menu: 'Miscellaneous'
route: /components/popover
---

# Popover

import {
  useFloating,
  autoUpdate,
  flip,
} from '@floating-ui/react-dom'
import {
  Playground,
  Props,
} from 'docz'
import { Placeholder } from '../../../docs/_components/Placeholder/Placeholder'
import { Button } from '../Button/Button'
import { ButtonGroup } from '../ButtonGroup/ButtonGroup'
import { SelectField } from '../SelectField/SelectField'
import { Toolbar } from '../Toolbar/Toolbar'
import { ToolbarItem } from '../Toolbar/ToolbarItem'
import { Popover } from './Popover'
import { PopoverWrapper } from './PopoverWrapper'

Popover displays additional information without interrupting user flow.

## Basic Usage

To implement the Popover component, you need to import it first:

```js
import { Popover, PopoverWrapper } from '@react-ui-org/react-ui';
```

And use it:

<Playground>
{() => {
  const [isPopoverOpen, setIsPopoverOpen] = React.useState(false);
  // All inline styles in this example are for demonstration purposes only.
  return (
    <div
      style={{
        display: 'grid',
        placeContent: 'center',
        minWidth: '20rem',
        minHeight: '10rem',
      }}
    >
      <PopoverWrapper>
        <Button
          aria-describedby={isPopoverOpen ? 'my-popover' : undefined}
          label="Want to see a popover? Click me!"
          onClick={() => setIsPopoverOpen(!isPopoverOpen)}
        />
        {isPopoverOpen && (
          <Popover id="my-popover">
            Hello there!
          </Popover>
        )}
      </PopoverWrapper>
    </div>
  );
}}
</Playground>

See [API](#api) for all available options.

## Placement

Available placements are: top, right, bottom, and left. Additionally, all basic
placements can be aligned to the center (default, no suffix), start (e.g.
`top-start`), or end (e.g. `bottom-end`). Check Popover [API](#api) for the
complete list of accepted values.

<Playground>
{() => {
  const [align, setAlign] = React.useState('');
  // All inline styles in this example are for demonstration purposes only.
  return (
    <>
      <Toolbar align="baseline">
        <ToolbarItem>
          <span id="alignment-options-label">Alignment:</span>
        </ToolbarItem>
        <ToolbarItem>
          <ButtonGroup aria-labelledby="alignment-options-label">
            <Button
              color={align === '-start' ? 'dark' : 'primary'}
              label="start"
              onClick={() => setAlign('-start')}
            />
            <Button
              color={align === '' ? 'dark' : 'primary'}
              label="center"
              onClick={() => setAlign('')}
            />
            <Button
              color={align === '-end' ? 'dark' : 'primary'}
              label="end"
              onClick={() => setAlign('-end')}
            />
          </ButtonGroup>
        </ToolbarItem>
      </Toolbar>
      <div
        style={{
          display: 'grid',
          placeContent: 'center',
          minWidth: '20rem',
          minHeight: '15rem',
        }}
      >
        <PopoverWrapper>
          <Placeholder bordered aria-describedby="my-popover-top">
            Popovers
            <br />
            all day long‚Ä¶
          </Placeholder>
          <Popover id="my-popover-top" placement={`top${align}`}>
            Top side
          </Popover>
          <Popover id="my-popover-right" placement={`right${align}`}>
            Right side
          </Popover>
          <Popover id="my-popover-bottom" placement={`bottom${align}`}>
            Bottom side
          </Popover>
          <Popover id="my-popover-left" placement={`left${align}`}>
            Left side
          </Popover>
        </PopoverWrapper>
      </div>
    </>
  );
}}
</Playground>

## PopoverWrapper

PopoverWrapper is an optional wrapper to make positioning of Popover even
easier.

By default, Popover is placed relative to the closest parent element with
`position: relative` or `position: absolute`. Maybe you already have one of
these in your CSS. PopoverWrapper is here for situations when you don't.

```jsx
<PopoverWrapper>
  <Button
    aria-describedby={isPopoverOpen ? 'my-popover' : undefined}
    label="Want to see a popover? Click me!"
    onClick={() => setIsPopoverOpen(!isPopoverOpen)}
  />
  {isPopoverOpen && <Popover id="my-popover">Hello there!</Popover>}
</PopoverWrapper>
```

How do you know you may need PopoverWrapper?

- You are **not** rendering Popover in a React portal.
- You are using Popover in a complex layout and it does not pop up where you
  need it.
- You are using Floating UI with `absolute` positioning strategy (see
  [Advanced Positioning](#advanced-positioning) below) and your Popover keeps to
  be misplaced.
- You have no idea what CSS `position` is and just want to get it working.

To sum it up, usually you will need either PopoverWrapper around your content or
`position: [ relative | absolute ]` somewhere in your CSS (but you never need
both!). Nevertheless, in the simplest situations, like in a single-column page
layout, you may not need either of these at all.

Head to PopoverWrapper [API](#popoverwrapper-api) for all available options.

## Advanced Positioning

While the basic setup can be sufficient in some scenarios, dropping a Popover
usually won't be so easy. To handle all tricky situations and edge cases
automatically, including smart position updates to ensure Popover visibility,
we recommend to involve an external library designed specifically for this
purpose.

‚ÑπÔ∏è The following example is using external library [Floating UI]. To use
Floating UI, install it first:

```shell
npm install --save @floating-ui/react-dom
```

And import it along with Popover, e.g.:

```js
import {
  useFloating,
  autoUpdate,
  flip,
} from '@floating-ui/react-dom';
import { Popover } from '@react-ui-org/react-ui';
```

As opposed to the [basic setup](#placement), Popover will be placed according to
its triggering component (`reference`), but still recognizing the closest parent
element with `position: relative` or `position: absolute` if there is any.

Popover reacts on the `forwardedRef` option, necessary for advanced positioning:
when `forwardedRef` is set, Popover resets its built-in positioning and relies
on provided `style`.

üëâ Please consult [Floating UI] documentation to understand how it works and to
get an idea of all possible cases you may need to cover.

üñ± Try scrolling the example to see how Popover placement is updated.

<Playground>
  {() => {
    const [isPopoverOpen, setIsPopoverOpen] = React.useState(false);
    const [placement, setPlacement] = React.useState('top');
    const {
      x,
      y,
      reference,
      floating,
      placement: finalPlacement,
      strategy,
    } = useFloating({
      placement,
      middleware: [flip()],
      whileElementsMounted: autoUpdate,
    });
    const placementOptions = [
      'top',
      'top-start',
      'top-end',
      'right',
      'right-start',
      'right-end',
      'bottom',
      'bottom-start',
      'bottom-end',
      'left',
      'left-start',
      'left-end',
    ];
    // All inline styles in this example EXCEPT Popover `style` are for
    // demonstration purposes only.
    return (
      <>
        <Toolbar>
          <ToolbarItem>
            <SelectField
              label="Suggested placement:"
              onChange={e => setPlacement(e.target.value)}
              options={placementOptions.map((el) => ({
                label: el,
                value: el,
              }))}
              value={placement}
            />
          </ToolbarItem>
          <ToolbarItem>
            <div className="mb-2">Final placement:</div>
            <code>{finalPlacement}</code>
          </ToolbarItem>
        </Toolbar>
        <div
          style={{
            width: '40rem',
            maxWidth: '100%',
            height: '10rem',
            overflow: 'auto',
          }}
        >
          <div
            style={{
              position: 'relative',
              width: '60rem',
              height: '20rem',
              paddingBlock: '7rem',
              textAlign: 'center',
            }}
          >
            <Button
              aria-describedby={isPopoverOpen ? 'my-advanced-popover' : undefined}
              forwardedRef={reference}
              label="Trigger Popover"
              onClick={() => setIsPopoverOpen(!isPopoverOpen)}
            />
            {isPopoverOpen && (
              <Popover
                forwardedRef={floating}
                id="my-advanced-popover"
                placement={finalPlacement}
                style={{
                  position: strategy,
                  top: y ? y : '',
                  left: x ? x : '',
                }}
              >
                Auto-flipping Popover
              </Popover>
            )}
          </div>
        </div>
      </>
    );
  }}
</Playground>

## API

<Props table of={Popover} />

### PopoverWrapper API

<Props table of={PopoverWrapper} />

## Theming

| Custom Property                                      | Description                                                  |
|------------------------------------------------------|--------------------------------------------------------------|
| `--rui-Popover__width`                               | Popover width                                                |
| `--rui-Popover__padding`                             | Popover padding                                              |
| `--rui-Popover__border-width`                        | Border width                                                 |
| `--rui-Popover__border-color`                        | Border color                                                 |
| `--rui-Popover__border-radius`                       | Corner radius                                                |
| `--rui-Popover__color`                               | Text color                                                   |
| `--rui-Popover__background-color`                    | Background color                                             |
| `--rui-Popover__box-shadow`                          | Popover box shadow                                           |

[Floating UI]: https://floating-ui.com/docs/react-dom
