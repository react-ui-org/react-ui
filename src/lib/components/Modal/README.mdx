---
name: Modal
menu: 'Miscellaneous'
route: /components/modal
---

# Modal

Modal allows to prompt users to take or complete an action.

import {
  Playground,
  Props,
} from 'docz'
import {
  Button,
  FormLayout,
  Modal,
  ModalBody,
  ModalContent,
  ModalFooter,
  ModalHead,
  ScrollView,
  TextField,
} from '../..'
import Icon from '../../../docs/_components/Icon'

## Basic Usage

To implement the Modal component, you need to import it first:

```js
import {
  Modal,
  ModalHead,
  ModalBody,
  ModalContent,
  ModalFooter,
} from '@react-ui-org/react-ui';
```

And use it:

<Playground>
  {() => {
    const [modalOpen, setModalOpen] = React.useState(false);
    const modalPrimaryButtonRef = React.useRef();
    const modalCloseButtonRef = React.useRef();
    return (
      <>
        <Button
          label="Launch modal"
          onClick={() => setModalOpen(true)}
          priority="outline"
        />
        <div>
          {modalOpen && (
            <Modal
              closeButtonRef={modalCloseButtonRef}
              primaryButtonRef={modalPrimaryButtonRef}
            >
              <ModalHead
                onClose={() => setModalOpen(false)}
                title="Delete the user?"
              />
              <ModalBody>
                <ModalContent>
                  <p>
                    Do you really want to delete the user <code>admin</code>?
                    This cannot be undone.
                  </p>
                </ModalContent>
              </ModalBody>
              <ModalFooter>
                <Button
                  color="danger"
                  label="Delete"
                  onClick={() => setModalOpen(false)}
                  ref={modalPrimaryButtonRef}
                />
                <Button
                  label="Close"
                  onClick={() => setModalOpen(false)}
                  priority="outline"
                  ref={modalCloseButtonRef}
                />
              </ModalFooter>
            </Modal>
          )}
        </div>
      </>
    );
  }}
</Playground>

See [API](#api) for all available options.

## General Guidelines

- Use modals to **confirm an action,** display a **blocking alert**, or to
  reveal **contextual options or settings** that cannot be displayed inline
  with the parent content.

- **The title** should communicate the **purpose of the modal** rather than a
  generic text. Eg. “Delete the user?” tells more than “Are you sure?” or
  “Warning”.

- **Modal actions** should correspond to the modal purpose, too. Eg. “Delete”
  tells better what happens rather than “OK”.

- Modal **automatically focuses the first form field** by default which allows
  users to confirm the modal by hitting enter key. When no field is found then
  the primary button (in footer) is focused. To turn this feature off, set the
  `autofocus` prop to `false`.

- **Avoid stacking** of modals. While it may technically work, the modal is just
  not designed for that.

## Composition

Modal is decomposed into following components:

- [Modal](#api)
  - [ModalHead](#modalhead)
  - [ModalBody](#modalbody)
    - [ModalContent](#modalcontent)
    (may be wrapped with [ScrollView](/components/scroll-view))
  - [ModalFooter](#modalfooter)

Following rules must be applied when composing modal:

- Modal is root component which can contain ModalHead, ModalBody
and ModalFooter.
- Modal must always contain at least ModalBody.
- ModalBody can contain ModalContent or ModalContent wrapped
with ScrollView.
- ModalContent contains desired content.
- ModalFooter contains one or more Button components representing
modal actions.

Using different combinations, you can compose different kinds of modals,
e.g. dialog modal, blocking modal, scrollable modal etc.

<Playground>
  {() => {
    const [modalOpen, setModalOpen] = React.useState(null);
    const modalPrimaryButtonRef = React.useRef();
    const modalCloseButtonRef = React.useRef();
    return (
      <>
        <Button
          label="Launch blocking modal without title"
          onClick={() => {
            setModalOpen(1);
            setTimeout(() => setModalOpen(null), 2500);
          }}
          priority="outline"
        />
        <Button
          label="Launch blocking modal with title"
          onClick={() => {
            setModalOpen(2);
            setTimeout(() => setModalOpen(null), 3500);
          }}
          priority="outline"
        />
        <Button
          label="Launch modal as dialog"
          onClick={() => setModalOpen(3)}
          priority="outline"
        />
        <Button
          label="Launch modal as form"
          onClick={() => setModalOpen(4)}
          priority="outline"
        />
        <div>
          {modalOpen === 1 && (
            <Modal>
              <ModalBody>
                <ModalContent>
                  <p className="mt-4 text-center">
                    Application is being loaded.
                    <span className="d-inline-flex align-items-center animation-spin-counterclockwise">
                      <Icon icon="loading" />
                    </span>
                  </p>
                </ModalContent>
              </ModalBody>
            </Modal>
          )}
          {modalOpen === 2 && (
            <Modal>
              <ModalHead title="Action finished" />
              <ModalBody>
                <ModalContent>
                  <p>
                    Action has been successfully finished.
                    You will be redirected within a few seconds.
                  </p>
                </ModalContent>
              </ModalBody>
            </Modal>
          )}
          {modalOpen === 3 && (
            <Modal
              closeButtonRef={modalCloseButtonRef}
              primaryButtonRef={modalPrimaryButtonRef}
            >
              <ModalHead
                onClose={() => setModalOpen(false)}
                title="Delete the user?"
              />
              <ModalBody>
                <ModalContent>
                  <p>
                    Do you really want to delete the user <code>admin</code>?
                    This cannot be undone.
                  </p>
                </ModalContent>
              </ModalBody>
              <ModalFooter>
                <Button
                  color="danger"
                  label="Delete"
                  onClick={() => setModalOpen(false)}
                  ref={modalPrimaryButtonRef}
                />
                <Button
                  label="Close"
                  onClick={() => setModalOpen(false)}
                  priority="outline"
                  ref={modalCloseButtonRef}
                />
              </ModalFooter>
            </Modal>
          )}
          {modalOpen === 4 && (
            <Modal
              closeButtonRef={modalCloseButtonRef}
              primaryButtonRef={modalPrimaryButtonRef}
            >
              <ModalHead
                onClose={() => setModalOpen(false)}
                title="Add new user"
              />
              <ModalBody>
                <ModalContent>
                  <FormLayout fieldLayout="horizontal">
                    <TextField label="Username" />
                    <TextField label="Password" type="password" />
                  </FormLayout>
                </ModalContent>
              </ModalBody>
              <ModalFooter>
                <Button
                  label="Save"
                  onClick={() => setModalOpen(false)}
                  ref={modalPrimaryButtonRef}
                />
                <Button
                  label="Close"
                  onClick={() => setModalOpen(false)}
                  priority="outline"
                  ref={modalCloseButtonRef}
                />
              </ModalFooter>
            </Modal>
          )}
        </div>
      </>
    );
  }}
</Playground>

## Sizes

Modal is available in three fixed-width sizes: small, medium, large and fullscreen.
Modals of any size automatically shrink when they cannot fit the screen width.

<Playground>
  {() => {
    const [modalOpen, setModalOpen] = React.useState(false);
    const [modalSize, setModalSize] = React.useState('small');
    const modalPrimaryButtonRef = React.useRef();
    const modalCloseButtonRef = React.useRef();
    return (
      <>
        <Button
          label="Launch small modal"
          onClick={() => {
            setModalSize('small');
            setModalOpen(true);
          }}
          priority="outline"
        />
        <Button
          label="Launch medium modal"
          onClick={() => {
            setModalSize('medium');
            setModalOpen(true);
          }}
          priority="outline"
        />
        <Button
          label="Launch large modal"
          onClick={() => {
            setModalSize('large');
            setModalOpen(true);
          }}
          priority="outline"
        />
        <Button
          label="Launch fullscreen modal"
          onClick={() => {
            setModalSize('fullscreen');
            setModalOpen(true);
          }}
          priority="outline"
        />
        <div>
          {modalOpen && (
            <Modal
              closeButtonRef={modalCloseButtonRef}
              primaryButtonRef={modalPrimaryButtonRef}
              size={modalSize}
            >
              <ModalHead
                onClose={() => setModalOpen(false)}
                title="Delete the user?"
              />
              <ModalBody>
                <ModalContent>
                  <p>
                    Do you really want to delete the user <code>admin</code>?
                    This cannot be undone.
                  </p>
                </ModalContent>
              </ModalBody>
              <ModalFooter>
                <Button
                  color="danger"
                  label="Delete"
                  onClick={() => setModalOpen(false)}
                  ref={modalPrimaryButtonRef}
                />
                <Button
                  label="Close"
                  onClick={() => setModalOpen(false)}
                  priority="outline"
                  ref={modalCloseButtonRef}
                />
              </ModalFooter>
            </Modal>
          )}
        </div>
      </>
    );
  }}
</Playground>

On top of that, the modal is able to adjust to the width of its content.

👉 Please note the auto width may not function correctly in combination with
other auto layout mechanisms, e.g. the auto-width
[FormLayout](/components/form-layout#label-width). It's just too much
magic that doesn't work together yet 🎩.

<Playground>
  {() => {
    const [modalOpen, setModalOpen] = React.useState(false);
    const modalPrimaryButtonRef = React.useRef();
    const modalCloseButtonRef = React.useRef();
    return (
      <>
        <Button
          label="Launch auto-width modal"
          onClick={() => setModalOpen(true)}
          priority="outline"
        />
        <div>
          {modalOpen && (
            <Modal
              closeButtonRef={modalCloseButtonRef}
              primaryButtonRef={modalPrimaryButtonRef}
              size="auto"
            >
              <ModalHead
                onClose={() => setModalOpen(false)}
                title="Delete the user?"
              />
              <ModalBody>
                <ModalContent>
                  <p>
                    Do you really want to delete the user <code>admin</code>?
                    This cannot be undone.
                  </p>
                </ModalContent>
              </ModalBody>
              <ModalFooter>
                <Button
                  color="danger"
                  label="Delete"
                  onClick={() => setModalOpen(false)}
                  ref={modalPrimaryButtonRef}
                />
                <Button
                  label="Close"
                  onClick={() => setModalOpen(false)}
                  priority="outline"
                  ref={modalCloseButtonRef}
                />
              </ModalFooter>
            </Modal>
          )}
        </div>
      </>
    );
  }}
</Playground>

## Position

Modal can be aligned either to top or center of the screen.

<Playground>
  {() => {
    const [modalOpen, setModalOpen] = React.useState(false);
    const [modalPosition, setModalPosition] = React.useState('center');
    const modalPrimaryButtonRef = React.useRef();
    const modalCloseButtonRef = React.useRef();
    return (
      <>
        <Button
          label="Launch modal at center"
          onClick={() => {
            setModalPosition('center');
            setModalOpen(true);
          }}
          priority="outline"
        />
        <Button
          label="Launch modal at top"
          onClick={() => {
            setModalPosition('top');
            setModalOpen(true);
          }}
          priority="outline"
        />
        <div>
          {modalOpen && (
            <Modal
              closeButtonRef={modalCloseButtonRef}
              position={modalPosition}
              primaryButtonRef={modalPrimaryButtonRef}
            >
              <ModalHead
                onClose={() => setModalOpen(false)}
                title="Delete the user?"
              />
              <ModalBody>
                <ModalContent>
                  <p>
                    Do you really want to delete the user <code>admin</code>?
                    This cannot be undone.
                  </p>
                </ModalContent>
              </ModalBody>
              <ModalFooter>
                <Button
                  color="danger"
                  label="Delete"
                  onClick={() => setModalOpen(false)}
                  ref={modalPrimaryButtonRef}
                />
                <Button
                  label="Close"
                  onClick={() => setModalOpen(false)}
                  priority="outline"
                  ref={modalCloseButtonRef}
                />
              </ModalFooter>
            </Modal>
          )}
        </div>
      </>
    );
  }}
</Playground>

## Key Control

Modal can be controlled either by mouse or keyboard. To enhance user
experience, primary action can be fired by pressing `Enter` key and modal
can be closed by pressing `Escape` key.

To enable it, you just need to pass reference to the buttons using
`primaryButtonRef` and `modalCloseButtonRef` props on Modal. Advantage
of passing reference to the button is that if the button is disabled,
key press will not fire the event.

👉 We strongly recommend using this feature together with Autofocus for
better user experience.

## Autofocus

Autofucus is implemented to enhance user experience by automatically
focussing an element within the modal.

How does it work? It tries to find `input`, `textarea` and `select` element
inside of Modal and focuses the first found. If none is found and
`primaryButtonRef` prop on Modal is set, then the primary button is focused.

Autofocus is enabled by default, so if you want to control focus of
elements manually, set `autoFocus` prop on Modal to `false`.

## Scrolling Long Content

When modals become too long for the user's viewport or device, we recommend
wrapping ModalContent into [ScrollView](/components/scroll-view) to make
its content scrollable independently of the page itself. In this case,
`withScrollView` must be set to `true` on ModalBody.

<Playground>
  {() => {
    const [modalOpen, setModalOpen] = React.useState(false);
    const [modalScrollView, setModalScrollView] = React.useState(true);
    const modalCloseButtonRef = React.useRef();
    const modalPrimaryButtonRef = React.useRef();
    const modalContent = (
      <ModalContent>
        <p>
          Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean
          commodo ligula eget dolor. Aenean massa.
        </p>
        <p>
          Cum sociis natoque penatibus et magnis dis parturient montes,
          nascetur ridiculus mus. Donec quam felis, ultricies nec,
          pellentesque eu, pretium quis, sem.
        </p>
        <p>
          Nulla consequat massa quis enim. Donec pede justo, fringilla
          vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus
          ut, imperdiet a, venenatis vitae, justo.
        </p>
        <p>
          Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean
          commodo ligula eget dolor. Aenean massa.
        </p>
        <p>
          Cum sociis natoque penatibus et magnis dis parturient montes,
          nascetur ridiculus mus. Donec quam felis, ultricies nec,
          pellentesque eu, pretium quis, sem.
        </p>
        <p>
          Nulla consequat massa quis enim. Donec pede justo, fringilla
          vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus
          ut, imperdiet a, venenatis vitae, justo.
        </p>
        <p>
          Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean
          commodo ligula eget dolor. Aenean massa.
        </p>
        <p>
          Cum sociis natoque penatibus et magnis dis parturient montes,
          nascetur ridiculus mus. Donec quam felis, ultricies nec,
          pellentesque eu, pretium quis, sem.
        </p>
        <p>
          Nulla consequat massa quis enim. Donec pede justo, fringilla
          vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus
          ut, imperdiet a, venenatis vitae, justo.
        </p>
        <p>
          Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean
          commodo ligula eget dolor. Aenean massa.
        </p>
        <p>
          Cum sociis natoque penatibus et magnis dis parturient montes,
          nascetur ridiculus mus. Donec quam felis, ultricies nec,
          pellentesque eu, pretium quis, sem.
        </p>
        <p>
          Nulla consequat massa quis enim. Donec pede justo, fringilla
          vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus
          ut, imperdiet a, venenatis vitae, justo.
        </p>
        <p>
          Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean
          commodo ligula eget dolor. Aenean massa.
        </p>
        <p>
          Cum sociis natoque penatibus et magnis dis parturient montes,
          nascetur ridiculus mus. Donec quam felis, ultricies nec,
          pellentesque eu, pretium quis, sem.
        </p>
        <p>
          Nulla consequat massa quis enim. Donec pede justo, fringilla
          vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus
          ut, imperdiet a, venenatis vitae, justo.
        </p>
      </ModalContent>
    )
    return (
      <>
        <Button
          label="Launch modal with scrolling body"
          onClick={() => {
            setModalScrollView(true);
            setModalOpen(true);
          }}
          priority="outline"
        />
        <Button
          label="Launch scrolling modal"
          onClick={() => {
            setModalScrollView(false);
            setModalOpen(true);
          }}
          priority="outline"
        />
        <div>
          {modalOpen && (
            <Modal
              autoFocus={false}
              closeButtonRef={modalCloseButtonRef}
              primaryButtonRef={modalPrimaryButtonRef}
              size="small"
              title="Modal with long content"
            >
              <ModalHead
                onClose={() => setModalOpen(false)}
                title="Delete the user?"
              />
              <ModalBody withScrollView={modalScrollView}>
                {
                  modalScrollView
                    ? (
                      <ScrollView
                        customEndShadowStyle={{
                          background: 'radial-gradient(farthest-side at center bottom, rgba(0, 0, 0, 0.16) 0%, rgba(0, 0, 0, 0.06) 40%, rgba(0, 0, 0, 0.02) 85%, rgba(0, 0, 0, 0) 100%)'
                        }}
                        customStartShadowStyle={{
                          background: 'radial-gradient(farthest-side at center top, rgba(0, 0, 0, 0.15) 0%, rgba(0, 0, 0, 0.05) 60%, rgba(0, 0, 0, 0.02) 85%, rgba(0, 0, 0, 0) 100%)'
                        }}
                        shadowSize="16px"
                      >
                        {modalContent}
                      </ScrollView>
                    )
                    : modalContent
                }
              </ModalBody>
              <ModalFooter>
                <Button
                  label="OK"
                  onClick={() => setModalOpen(false)}
                  ref={modalPrimaryButtonRef}
                />
                <Button
                  label="Close"
                  onClick={() => setModalOpen(false)}
                  priority="outline"
                  ref={modalCloseButtonRef}
                />
              </ModalFooter>
            </Modal>
          )}
        </div>
      </>
    );
  }}
</Playground>

### Long Content and Autofocus

👉 If you wrap ModalContent with ScrollView, you may want to turn `autoFocus`
off to prevent the modal from scrolling to the end immediately after being
opened.

## API

<Props table of={Modal} />

### ModalHead

<Props table of={ModalHead} />

### ModalBody

<Props table of={ModalBody} />

### ModalContent

<Props table of={ModalContent} />

### ModalFooter

<Props table of={ModalFooter} />

## Theming

| Custom Property                                      | Description                                                  |
|------------------------------------------------------|--------------------------------------------------------------|
| `--rui-Modal__background`                            | Modal background (including `url()` or gradient)             |
| `--rui-Modal__box-shadow`                            | Modal box shadow                                             |
| `--rui-Modal__outer-spacing-xs`                      | Spacing around modal, `xs` screen size                       |
| `--rui-Modal__outer-spacing-sm`                      | Spacing around modal, `sm` screen size and bigger            |
| `--rui-Modal__footer__background`                    | Modal footer background (including `url()` or gradient)      |
| `--rui-Modal__backdrop__background`                  | Modal backdrop background (including `url()` or gradient)    |
| `--rui-Modal--auto__min-width`                       | Minimum width of auto-sized modal                            |
| `--rui-Modal--auto__max-width`                       | Maximum width of auto-sized modal                            |
| `--rui-Modal--small__width`                          | Width of small modal                                         |
| `--rui-Modal--medium__width`                         | Width of medium modal                                        |
| `--rui-Modal--large__width`                          | Width of large modal                                         |
| `--rui-Modal--fullscreen__width`                     | Width of fullscreen modal                                    |
| `--rui-Modal--fullscreen__height`                    | Height of fullscreen modal                                   |
