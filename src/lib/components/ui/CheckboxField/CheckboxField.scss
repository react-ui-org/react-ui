@import '../../../styles/settings/borders';
@import '../../../styles/settings/forms.deprecated';
@import '../../../styles/tools/accessibility';
@import '../../../styles/tools/forms/foundation';
@import '../../../styles/tools/forms.deprecated';

.root {
  position: relative;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
}

.inputWrap {
  position: relative;
  min-height: $checkbox-radio-label-height;
}

.input {
  @include form-checkbox-radio-input-styles($checkbox-radio-size, 0);
}

.label {
  @include form-field-label();
  @include form-checkbox-radio-label-styles($checkbox-radio-label-height, $checkbox-radio-padding-left);
}

.input + .label::before {
  @include form-checkbox-radio-shared-inactive(
    $checkbox-radio-size,
    $checkbox-radio-top,
    0,
    $form-field-border-color
  );

  border-radius: $border-radius;
}

.input + .label::after {
  content: '';
  position: absolute;
  top: 50%;
  left: calc(#{$checkbox-checkmark-size / 2} + 1px);
  display: none;
  width: $checkbox-checkmark-size;
  height: calc((#{$checkbox-checkmark-size} / 2) + 1px);
  border-color: $checkbox-checkmark-color;
  border-bottom: $checkbox-checkmark-border-style;
  border-left: $checkbox-checkmark-border-style;
  transform: translateY(-50%) rotate(-45deg);
}

// stylelint-disable selector-max-specificity, selector-nested-pattern
.labelPositionBefore {
  .input + .label::before {
    right: 0;
    left: auto;
  }

  .input + .label::after {
    right: calc(#{$checkbox-checkmark-size / 2} + 1px);
    left: auto;
  }

  .label {
    padding-right: $checkbox-radio-padding-left;
    padding-left: 0;
  }
}

.labelPositionAfter {
  .input + .label::before {
    left: 0;
  }

  .input + .label::after {
    right: 0;
  }
}

.input:disabled + .label {
  @include form-disabled-state();

  color: $checkbox-disabled-text-color;
}

.input:checked + .label::before {
  background: $form-field-background-color;
}

.input:checked + .label::after {
  display: inline-block;
}

.input:indeterminate + .label::before {
  border: $border-width solid $checkbox-border-color-indeterminate;
}

.input:indeterminate + .label::after {
  display: inline-block;
  border-bottom-color: $checkbox-border-color-indeterminate;
  border-left: 0;
  transform: translate(0, ($checkbox-checkmark-size / 2));
}

.input:focus + .label::before {
  outline: 0;
  box-shadow: $radio-focused-box-shadow;
}

.input:disabled + .label::before {
  background-color: $checkbox-disabled-background-color;
}

.input:focus:checked + .label::before {
  outline: 0;
  box-shadow: $radio-focused-box-shadow;
}

.input:disabled:checked + .label::before {
  background-color: $radio-disabled-background-color;
  box-shadow: $radio-disabled-checked-box-shadow;
}

.input:required + .label .labelInner::after {
  content: ' *';
}

.input:checked:disabled + .label::after {
  $disabled-border-style: ($checkbox-radio-size / 8) solid $checkbox-disabled-checkmark-color;

  border-bottom: $disabled-border-style;
  border-left: $disabled-border-style;
}

.description,
.error {
  @include form-field-helper-text();
}

.error {
  min-height: 1rem;
}

.isLabelHidden {
  @include accessibility-hide-text();
}

// States
// stylelint-disable no-descending-specificity
.isRootStateInvalid .label,
.isRootStateInvalid .description,
.isRootStateInvalid .error {
  color: $form-invalid-color;
}

.isRootStateInvalid .input + .label::before,
.isRootStateInvalid .input:checked + .label::before {
  border-color: $form-invalid-color;
}

.isRootStateInvalid .input:checked + .label::before {
  background-color: $form-invalid-color;
}

.isRootStateValid .label,
.isRootStateValid .description,
.isRootStateValid .error {
  color: $form-valid-color;
}

.isRootStateValid .input + .label::before,
.isRootStateValid .input:checked + .label::before {
  border-color: $form-valid-color;
}

.isRootStateValid .input:checked + .label::before {
  background-color: $form-valid-color;
}

.isRootStateWarning .label,
.isRootStateWarning .description,
.isRootStateWarning .error {
  color: $form-warning-color;
}

.isRootStateWarning .input + .label::before,
.isRootStateWarning .input:checked + .label::before {
  border-color: $form-warning-color;
}

.isRootStateWarning .input:checked + .label::before {
  background-color: $form-warning-color;
}

.isRootLayoutHorizontal {
  position: relative; // Just set something until the component is refactored (#20).
}

.isRootInFormLayout {
  @include form-field-in-form-layout();
}
